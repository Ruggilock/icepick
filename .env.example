# ============================================
# MULTI-CHAIN CONFIGURATION
# ============================================

# Chains activas (separadas por coma)
# Opciones: arbitrum (recomendado), base, linea
ACTIVE_CHAINS=arbitrum

# Distribuir capital (% del total por chain)
BASE_CAPITAL_PERCENTAGE=60      # 60% en Base (alta competencia)
ARBITRUM_CAPITAL_PERCENTAGE=100 # 100% en Arbitrum (RECOMENDADO - $978M TVL AAVE)
LINEA_CAPITAL_PERCENTAGE=100    # 100% en Linea (menos TVL, ~$150M total)

# ============================================
# BASE CONFIGURATION
# ============================================

BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
BASE_RPC_WS_URL=wss://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
BASE_RPC_BACKUP_1=https://mainnet.base.org
BASE_RPC_BACKUP_2=https://base.gateway.tenderly.co

BASE_PRIVATE_KEY=your_private_key_for_base

# Protocolos activos en Base (separados por coma)
BASE_PROTOCOLS=aave,moonwell,compound

# Min profit para ejecutar (USD)
BASE_MIN_PROFIT=1.5

# Max capital per liquidation (USD) - should match your available USDC
BASE_MAX_LIQUIDATION_SIZE=100

# Scan interval (ms)
# Free Tier: 30000ms (30s) MÍNIMO para evitar consumir créditos
# Paid: 10000ms (10s)
BASE_CHECK_INTERVAL=30000

# Bloques a escanear en scan inicial (solo primera vez)
# Free Tier: 100-200 bloques recomendado (tardará ~1 min en escanear)
# Paid: 5000-10000 bloques
BASE_INITIAL_BLOCKS_TO_SCAN=100

# Max gas price en gwei
BASE_MAX_GAS_PRICE=0.5

# Gas configuration
BASE_MAX_FEE_PER_GAS=0.05
BASE_PRIORITY_FEE=0.01

# Flash loan provider
BASE_FLASHLOAN_PROVIDER=aave

# ============================================
# ARBITRUM CONFIGURATION (RECOMENDADO)
# ============================================

# RPC público gratis (sin límite conocido)
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
ARBITRUM_RPC_BACKUP_1=https://arbitrum-one.publicnode.com
ARBITRUM_RPC_BACKUP_2=https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

ARBITRUM_PRIVATE_KEY=your_private_key_for_arbitrum

# Protocolos activos en Arbitrum (separados por coma)
# aave: $978M TVL, compound: $178M TVL, radiant: disponible, silo: disponible
ARBITRUM_PROTOCOLS=aave

# Min profit para ejecutar (USD)
ARBITRUM_MIN_PROFIT=1.5

# Max capital per liquidation (USD) - should match your available USDC
ARBITRUM_MAX_LIQUIDATION_SIZE=100

# Scan interval (ms)
# IMPORTANTE: Con RPC público (sin límites conocidos):
# - 60000ms (1 min) = CONSERVADOR, recomendado para empezar ✅
# - 30000ms (30s) = MODERADO
# - 15000ms (15s) = AGRESIVO (puede tener rate limiting)
ARBITRUM_CHECK_INTERVAL=60000

# Bloques a escanear en scan inicial (solo primera vez)
# Arbitrum block time ~0.25s, entonces:
# - 200 bloques = ~50 segundos de historia (RECOMENDADO) ✅
# - 500 bloques = ~2 minutos de historia
# - 1000 bloques = ~4 minutos de historia
ARBITRUM_INITIAL_BLOCKS_TO_SCAN=200

# Max gas price en gwei (Arbitrum tiene gas muy bajo)
ARBITRUM_MAX_GAS_PRICE=0.2

# Gas configuration
ARBITRUM_MAX_FEE_PER_GAS=0.1
ARBITRUM_PRIORITY_FEE=0.01

# Flash loan provider
ARBITRUM_FLASHLOAN_PROVIDER=aave

# ============================================
# LINEA CONFIGURATION (AAVE v3)
# ============================================

LINEA_RPC_URL=https://linea-mainnet.infura.io/v3/YOUR_INFURA_KEY
LINEA_RPC_WS_URL=wss://linea-mainnet.infura.io/ws/v3/YOUR_INFURA_KEY
LINEA_RPC_BACKUP_1=https://rpc.linea.build
LINEA_RPC_BACKUP_2=https://linea.blockpi.network/v1/rpc/public

LINEA_PRIVATE_KEY=your_private_key_for_linea

# Protocolos activos en Linea (separados por coma)
LINEA_PROTOCOLS=aave

# Min profit para ejecutar (USD)
LINEA_MIN_PROFIT=1.5

# Max capital per liquidation (USD) - should match your available USDC
LINEA_MAX_LIQUIDATION_SIZE=100

# Scan interval (ms)
# IMPORTANTE: Con Infura Free Tier (100K requests/día, 10 req/sec):
# - 60000ms (1 min) = ~21 horas de uso por día ✅ RECOMENDADO
# - 30000ms (30s) = ~10.5 horas de uso por día
# - 15000ms (15s) = ~5 horas de uso por día (solo con plan pagado)
# El bot ahora usa backup RPCs automáticamente si Infura se agota
LINEA_CHECK_INTERVAL=60000

# Bloques a escanear en scan inicial (solo primera vez)
# Free Tier: 200 bloques recomendado (tardará ~2-3 min en escanear)
# Paid: 5000-10000 bloques
# NOTA: El escaneo ahora es incremental, solo escanea bloques nuevos después del primer scan
LINEA_INITIAL_BLOCKS_TO_SCAN=200

# Max gas price en gwei
LINEA_MAX_GAS_PRICE=0.1

# Gas configuration
LINEA_MAX_FEE_PER_GAS=0.05
LINEA_PRIORITY_FEE=0.01

# Flash loan provider
LINEA_FLASHLOAN_PROVIDER=aave

# ============================================
# REDIS CACHE (Opcional - Railway)
# ============================================

# Redis URL from Railway (usa REDIS_PUBLIC_URL)
# Formato: redis://default:password@host:port
REDIS_URL=

# ============================================
# GLOBAL SETTINGS
# ============================================

# Max slippage en swaps (%)
MAX_SLIPPAGE=2

# Simular antes de ejecutar
SIMULATE_BEFORE_EXECUTE=true

# Max consecutive failures antes de pausar
MAX_CONSECUTIVE_FAILURES=5

# Pause duration (segundos)
PAUSE_DURATION=180

# ============================================
# NOTIFICATIONS
# ============================================

# Telegram Bot Token (obtén uno con @BotFather)
TELEGRAM_BOT_TOKEN=

# Telegram Chat ID (obtén el tuyo con @userinfobot)
TELEGRAM_CHAT_ID=

# Notificar TODAS las oportunidades o solo las dentro de tu capital
# true = Solo notifica oportunidades dentro de tu capital (menos spam)
# false = Notifica todas las oportunidades encontradas (puede ser mucho)
NOTIFY_ONLY_EXECUTABLE=true

# Notificar solo si profit > threshold (USD)
# Este setting solo aplica a notificaciones de liquidaciones exitosas
NOTIFICATION_MIN_PROFIT=5

# Resumen cada N horas
SUMMARY_INTERVAL_HOURS=6

# ============================================
# MONITORING (Opcional)
# ============================================

# Enable metrics export
ENABLE_METRICS=false

# Metrics port
METRICS_PORT=9090

# Enable web dashboard
ENABLE_DASHBOARD=false

# Dashboard port
DASHBOARD_PORT=3000

# ============================================
# LOGGING
# ============================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=true

# Log file path
LOG_FILE_PATH=./logs/liquidator.log
